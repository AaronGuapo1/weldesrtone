<!DOCTYPE html>
<html lang="en">


    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>Welderstone</title>
        <!-- Favicon-->
        <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
        <!-- Bootstrap icons-->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" rel="stylesheet" />
        <!-- Bootstrap-->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
        <!-- CSS Stylesheet-->
        <link rel="stylesheet" href="css/styles.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/habibmhamadi/multi-select-tag/dist/css/multi-select-tag.css">

        <style type="text/css">
            #popup{
                left: 0;
                position: absolute;
                top:0;
                width:100%;
                z-index:1001;
            }
            .content-pop{
                margin: 0px auto;
                margin-top: 100px;
                position: relative;
                padding: 10px;
                width: 1200px;
                height: 500px;
                min-width: 250px;
                background-color: white;
                border: 1px solid black;
                overflow-y: scroll;
            }
            
   
        </style>
        <link rel="stylesheet" href="css/style.css">
                                
        <!-- Fontawesome CDN Link -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
    </head>
    <body>

        <%- include('layouts/navbar'); -%>



       
        <header class="bg-dark py-5">

            <div class="container px-4 px-lg-5 my-5">
                <div class="text-center text-white">
                    <h1 class="display-4 fw-bolder">Welderstone</h1>
                    <p class="lead fw-normal text-white-50 mb-0">Soluciones en acero</p>
                </div>
            </div>
        </header>


        <!-- Section-->

        <section class="py-5">  
            <div class="control-group">
                <div class="form-group floating-label-form-group controls">

            <form action="/productos/agregar" method="POST" enctype="multipart/form-data">
                <label>Id del producto</label>
                <input type="text" class="form-control" id="IdProducto"
                name="IdProducto">
                </div>
                </div>
                <div class="control-group">
                    <div class="form-group floating-label-form-group controls">
                    <input type="button" name="abrirse" id="open" value="Agregar materiales">
                     <div id="popup" style="display: none;">

                        <div class="content-pop">
                            <div><a href="#" id="close">X</a></div>
                            <% for (var a = 0; a < materiales.length; a++) { %>
                                <div><%=materiales[a].Descripcion%>
                                    <input type="number" value="0" name='MaterialesProductos[cantidad]' min="0">
                                    <input type="hidden" value="<%=materiales[a].Descripcion%>" name="MaterialesProductos[nombre]">
                                    <input type="hidden" value="<%=materiales[a].Codigo%>" name="MaterialesProductos[codigo]">

                                </div>
                                
                                <% } %>

        
                    </div>


                     </div>


                    </div>
                    </div>


                    <div class="control-group">
                        <div class="form-group floating-label-form-group controls">
                        <label>Precio del producto</label>
                        <input type="number" class="form-control" id="precio"
                        name="precio">
                        </div>
                        </div>
                        <div class="control-group">
                            <div class="form-group floating-label-form-group controls">
                            <label>Nombre del producto</label>
                            <input type="text" class="form-control" id="nombre"
                            name="nombre" required>
                            </div>
                            </div>
                            <div class="control-group">
                                <div class="form-group floating-label-form-group controls">
                                <label>Descripcion del producto</label>
                                <input type="text" class="form-control" id="descripcion"
                                name="descripcion">
                                </div>
                                </div>
                                <div class="control-group">
                                    <div class="form-group floating-label-form-group controls">
                                    <label>Imagen del producto</label>
                                    <input type="file" class="form-control" id="image"
                                    name="image">
                                    </div>
                                    </div>
                <br>
                <div class="form-group">
                <button type="submit" class="btn btn-primary"
                id="sendMessageButton">Send</button>
                </div>
                </form>





                <div class="container">
                    <div class="row">
                        <div class="col-lg-8 col-md-10 mx-auto">
                                <div class="row row-cols-1">
                                    <table>

                                        <tr> 
                                            
                                            <th> Id del Producto</th>
                                            <th> Materiales del Producto</th>
                                            <th> Precio</th>
                                            <th> Imagen </th>
                                            <th> Nombre</th>
                                            <th> Descripcion</th>
    
                                        </tr>
    
    <form action="/productos/edicion" method="POST" enctype="multipart/form-data">
    
        <input type="hidden" class="form-control" id="IdProducto" name="IdProducto" value="tamales"> 
        <input type="hidden" class="form-control"  id="MaterialesProductos" name="MaterialesProductos"value="tamales"> 
        <input type="hidden" class="form-control"  id="precio" name="precio"value="3121321312" >
        <input type="hidden" class="form-control"  id="nombre" name="nombre"value="tamales">
        <input type="hidden" class="form-control" id="descripcion" name="descripcion" value="tamales">
        <input type="hidden" class="form-control" id="NombreBusqueda" name="NombreBusqueda" value="tamales">

    <% for (var a = 0; a < productos.length; a++) { %>
    
    <tr> 
    
        <th> <%=productos[a].IdProducto%> <input type="text" class="form-control" id="IdProducto" name="IdProducto"> 
        </th>                                
        <th>       

            <a href="/productos/MaterialesEdicion/<%=productos[a].nombre%>" type="submit" id="sendMessageButton">Editar materiales</a>



        </th>

        <th>  <%=productos[a].precio%> <input type="text" class="form-control"  id="precio" name="precio" >
                                            
        </th>
        <th> 
     
            <img src="<%= productos[a].image %>" alt="" class="img-fluid zoom" style="height: 100px;">
            <div class="control-group">
                <div class="form-group floating-label-form-group controls">
                <input type="file" class="form-control" id="image"
                name="image">
                
                </div>
                </div>
    
        </th>
        <th>   <%=productos[a].nombre%> <input type="text" class="form-control" id="nombre" name="nombre">
                                            
        </th>
        <th>   <%=productos[a].descripcion%> <input type="text" class="form-control"  id="descripcion" name="descripcion">
                                            
        </th>
        <th> 
            <input type="hidden" name="NombreBusqueda" value="<%=productos[a].nombre%>">
                <a href="" type="submit" id="sendMessageButton">Eliminar</a>
    
                
        </th>
   
    </tr>      


    <% } %>
    <div class="form-group">
        <button type="submit" class="btn btn-primary"
        id="sendMessageButton">Guardar Cambios</button>
        </div>
    </table>

        </form>

                                </div>


                            </div>
                        </div>
                        </div>
                        
                    


                
        </section>
        <!-- Footer-->
        <%- include('layouts/footer'); -%>

        <!-- Bootstrap core JS-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
        <!--Multi Select-->
        <script src="https://cdn.jsdelivr.net/gh/habibmhamadi/multi-select-tag/dist/js/multi-select-tag.js"></script>
        <script>
            new MultiSelectTag('MaterialesProductos')  // id
        </script>
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>

        <script type="text/javascript">

            $(document).ready(function(){
            $("#open").on("click", function (){
                $("#popup").fadeIn("slow");
            });
            $("#close").on("click", function (){
                $("#popup").fadeOut("slow");
            });



            });
        </script>

<script type="text/javascript">
                    
    $(document).ready(function(){
    $("#open2").on("click", function (){
        $("#popup2").fadeIn("slow");
    });
    $("#close2").on("click", function (){
        $("#popup2").fadeOut("slow");
    });



    });
</script>

        <!-- FontAwesome-->
        <script src="https://kit.fontawesome.com/360b0549be.js" crossorigin="anonymous"></script>
    </body>
</html>


